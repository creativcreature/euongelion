# F-041: Performance: No horizontal overflow

## Metadata

- Feature ID: F-041
- Category: Performance
- Owner: Engineering + Product
- Status: in-progress
- Slug: performance-no-horizontal-overflow

## Scores

- Baseline Score: 4/10
- Engineering Score: 4.6/10
- Founder Score: 0/10
- Founder 10/10 Rule: only founder can assign 10/10

## User Expectation

- No horizontal overflow

## 10/10 Definition

- Behavior is reliable, predictable, and validated on desktop and mobile.
- Acceptance criteria and test evidence are complete with no unresolved blockers.

## Methodology References

- M00
- M02

## Device Contracts

### Desktop

- Primary interaction path is discoverable in one clear route.
- Error and recovery states are visible and actionable.

### Mobile

- Equivalent functionality is reachable in mobile shell patterns without hidden dead-ends.
- Touch targets and readability remain usable at 375/390 widths.

## Scope

### In scope

- Feature behavior and UX quality for: No horizontal overflow
- Tracking and regression prevention for this feature

### Out of scope

- Unrelated feature changes not mapped to F-041

## Interfaces Touched

- `src/app/globals.css`
- `__tests__/layout-overflow-contract.test.ts`

## Dependencies

- F-010
- F-011

## Acceptance Criteria

- [x] Behavior definition updated and reviewed
- [x] Desktop and mobile contracts implemented
- [x] Automated tests updated where applicable
- [ ] Manual QA evidence recorded
- [x] Changelog updated

## Test Matrix

- [x] Automated: type-check, contracts, tracking, lint, test
- [ ] Manual desktop checks
- [ ] Manual mobile checks
- [ ] Accessibility and reduced-motion checks

## Risks and Rollback

- Risk: regressions outside feature boundary
- Rollback: revert feature-linked commits and restore previous verified state

## Incremental Outcomes Log

| Date       | Commit  | Decision IDs   | Feature ID | Change Summary                                                                                                                                                                                                                                                                                                      | Verification                             | Score Delta | Residual Gaps                                                             |
| ---------- | ------- | -------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------- | ----------- | ------------------------------------------------------------------------- |
| 2026-02-14 | pending | SA-013         | F-041      | Updated touch-action on mobile horizontal rails/nav strips to `pan-x pan-y` to reduce gesture conflicts and accidental scroll trapping.                                                                                                                                                                             | `type-check`, `lint`                     | 4 -> 4.6    | Device QA still required to validate no horizontal overflow regressions.  |
| 2026-02-15 | pending | SA-013, SA-014 | F-041      | Reworked newspaper frame sizing to percentage-based width + viewport max-guard, removed `overflow-x: hidden` from the top newspaper shell to preserve sticky behavior, and tightened mobile frame width constraints with dynamic viewport support. Added CSS contract tests for overflow and sticky nav invariants. | `lint`, `type-check`, `test`, `verify:*` | 4.6 -> 6.9  | Needs manual cross-device swipe/scroll QA on iOS Safari + Android Chrome. |

## Next Increment

- [ ] Validate live-device scrolling and sticky behavior on long pages with carousels
- [ ] Add visual regression snapshots for header/nav stickiness at key breakpoints
