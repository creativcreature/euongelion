# F-010: Navigation: Sticky mobile nav

## Metadata

- Feature ID: F-010
- Category: Navigation
- Owner: Engineering + Product
- Status: in-progress
- Slug: navigation-sticky-mobile-nav

## Scores

- Baseline Score: 4/10
- Engineering Score: 7/10
- Founder Score: 0/10
- Founder 10/10 Rule: only founder can assign 10/10

## User Expectation

- Sticky mobile nav

## 10/10 Definition

- Behavior is reliable, predictable, and validated on desktop and mobile.
- Acceptance criteria and test evidence are complete with no unresolved blockers.

## Methodology References

- M00
- M01
- M04
- M06

## Device Contracts

### Desktop

- Primary interaction path is discoverable in one clear route.
- Error and recovery states are visible and actionable.

### Mobile

- Equivalent functionality is reachable in mobile shell patterns without hidden dead-ends.
- Touch targets and readability remain usable at 375/390 widths.

## Scope

### In scope

- Feature behavior and UX quality for: Sticky mobile nav
- Tracking and regression prevention for this feature

### Out of scope

- Unrelated feature changes not mapped to F-010

## Interfaces Touched

- `src/components/EuangelionShellHeader.tsx`
- `src/app/globals.css`
- `__tests__/shell-header.test.tsx`

## Dependencies

- F-011

## Acceptance Criteria

- [x] Behavior definition updated and reviewed
- [x] Desktop and mobile contracts implemented
- [x] Automated tests updated where applicable
- [ ] Manual QA evidence recorded
- [x] Changelog updated

## Test Matrix

- [x] Automated: type-check, contracts, tracking, lint, test
- [ ] Manual desktop checks
- [ ] Manual mobile checks
- [ ] Accessibility and reduced-motion checks

## Risks and Rollback

- Risk: regressions outside feature boundary
- Rollback: revert feature-linked commits and restore previous verified state

## Incremental Outcomes Log

| Date       | Commit  | Decision IDs           | Feature ID | Change Summary                                                                                                                                                                                             | Verification                                                         | Score Delta          | Residual Gaps                                    |
| ---------- | ------- | ---------------------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- | -------------------- | ------------------------------------------------ |
| 2026-02-14 | pending | SA-013, SA-014, SA-015 | F-010      | Locked mobile sticky behavior to shared dock state and expanded rotating topbar meta to three items (date, masthead line, mode label).                                                                     | `type-check`, `lint`, `test` (`build` blocked on Node 25 `WasmHash`) | 4 -> 5 (engineering) | Manual touch-device gesture QA still required.   |
| 2026-02-14 | pending | SA-013, SA-014, SA-015 | F-010      | Refined sticky mobile shell timing and presentation: slowed topbar ticker cadence for subtle transitions, removed horizontal overflow behavior, and normalized wrapped mobile nav interaction affordances. | `type-check`, `lint`                                                 | 5 -> 6 (engineering) | Physical-device validation still required.       |
| 2026-02-14 | pending | SA-013, SA-014, SA-015 | F-010      | Reworked mobile sticky IA to a compact two-tier structure (persistent primary actions + toggleable secondary links), and synchronized menu-close behavior on mobile navigation/viewport transitions.       | `type-check`, `lint`, `test` (`shell-header`)                        | 6 -> 7 (engineering) | Manual iOS/Android sticky-scroll QA outstanding. |
| 2026-02-14 | pending | SA-013                 | F-010      | Further softened rotating mobile topbar behavior by extending both switch interval and fade duration for calmer, less distracting header motion.                                                           | `type-check`, `lint`, `test` (`shell-header`)                        | 7 -> 7.2             | Physical-device readability checks still needed. |
| 2026-02-14 | pending | SA-013                 | F-010      | Paused rotating mobile topbar ticker while the menu is open so labels stay stable during active navigation interaction.                                                                                    | `type-check`, `lint`, `test` (`shell-header`)                        | 7.2 -> 7.4           | Physical-device interaction QA still pending.    |

## Next Increment

- [ ] Record physical-device sticky interaction evidence (iOS Safari + Android Chrome)
- [ ] Validate reduced-motion behavior for docked + expanded mobile menu states
