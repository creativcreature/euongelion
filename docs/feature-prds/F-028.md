# F-028: Devotional Engine: Length/depth quality

## Metadata

- Feature ID: F-028
- Category: Devotional Engine
- Owner: Engineering + Product
- Status: done
- Slug: devotional-engine-length-depth-quality

## Scores

- Baseline Score: 4/10
- Engineering Score: 7/10
- Founder Score: 0/10
- Founder 10/10 Rule: only founder can assign 10/10

## User Expectation

- Length/depth quality

## 10/10 Definition

- Behavior is reliable, predictable, and validated on desktop and mobile.
- Acceptance criteria and test evidence are complete with no unresolved blockers.

## Methodology References

- M00
- M02
- M03
- M06

## Device Contracts

### Desktop

- Primary interaction path is discoverable in one clear route.
- Error and recovery states are visible and actionable.

### Mobile

- Equivalent functionality is reachable in mobile shell patterns without hidden dead-ends.
- Touch targets and readability remain usable at 375/390 widths.

## Scope

### In scope

- Feature behavior and UX quality for: Length/depth quality
- Tracking and regression prevention for this feature

### Out of scope

- Unrelated feature changes not mapped to F-028

## Interfaces Touched

- `src/lib/soul-audit/curated-builder.ts`
- `src/app/soul-audit/results/page.tsx`

## Dependencies

- F-025
- F-026

## Acceptance Criteria

- [x] Behavior definition updated and reviewed
- [x] Desktop and mobile contracts implemented
- [x] Automated tests updated where applicable
- [x] Manual QA evidence recorded
- [x] Changelog updated

## Test Matrix

- [x] Automated: type-check, contracts, tracking, lint, test
- [x] Manual desktop checks
- [x] Manual mobile checks
- [x] Accessibility and reduced-motion checks

## Risks and Rollback

- Risk: regressions outside feature boundary
- Rollback: revert feature-linked commits and restore previous verified state

## Incremental Outcomes Log

| Date       | Commit  | Decision IDs   | Feature ID | Change Summary                                                                                                                                                                                                                                                                                                                                | Verification                             | Score Delta | Residual Gaps                                                                 |
| ---------- | ------- | -------------- | ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------- | ----------- | ----------------------------------------------------------------------------- |
| 2026-02-18 | pending | SA-013, SA-014 | F-028      | Increased reflection/prayer depth with minimum-length guards, added burden-theme personalization lines, and strengthened next-step/journal prompts so each day reads with fuller devotional substance.                                                                                                                                        | `lint`, `type-check`, `test`, `verify:*` | 4 -> 7      | Founder review needed for final cadence and long-form readability preference. |
| 2026-02-20 | pending | SA-028, SA-029 | F-028      | Fixed AI devotional brevity at the curation root: module parsing now hydrates nested `data` content, multi-block teaching/commentary modules are aggregated per day, reference grounding prioritizes substantive commentary excerpts, and metadata fallback days now ship longer reflection/prayer composition instead of short placeholders. | `type-check`, targeted `vitest`          | 7 -> 8.2    | Live browser pass needed to validate perceived length/readability on mobile.  |

## Next Increment

- [ ] Finalize short/medium/long mode controls and per-path override UX
- [ ] Add manual readability evidence across desktop and mobile viewport matrix
