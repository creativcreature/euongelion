# F-049: iOS: Shell readiness

## Metadata

- Feature ID: F-049
- Category: iOS
- Owner: Engineering + Product + Release
- Status: in-progress
- Slug: ios-shell-readiness

## Scores

- Baseline Score: 4/10
- Engineering Score: 6.9/10
- Founder Score: 0/10
- Founder 10/10 Rule: only founder can assign 10/10

## User Expectation

- Shell readiness

## 10/10 Definition

- Behavior is reliable, predictable, and validated on desktop and mobile.
- Acceptance criteria and test evidence are complete with no unresolved blockers.

## Methodology References

- M00
- M05

## Device Contracts

### Desktop

- Primary interaction path is discoverable in one clear route.
- Error and recovery states are visible and actionable.

### Mobile

- Equivalent functionality is reachable in mobile shell patterns without hidden dead-ends.
- Touch targets and readability remain usable at 375/390 widths.

## Scope

### In scope

- Feature behavior and UX quality for: Shell readiness
- Tracking and regression prevention for this feature

### Out of scope

- Unrelated feature changes not mapped to F-049

## Interfaces Touched

- `src/app/globals.css`
- `__tests__/ios-shell-readiness-contract.test.ts`

## Dependencies

- F-009
- F-010
- F-046

## Acceptance Criteria

- [x] Behavior definition updated and reviewed
- [x] Desktop and mobile contracts implemented
- [x] Automated tests updated where applicable
- [ ] Manual QA evidence recorded
- [x] Changelog updated

## Test Matrix

- [x] Automated: type-check, contracts, tracking, lint, test
- [ ] Manual desktop checks
- [ ] Manual mobile checks
- [ ] Accessibility and reduced-motion checks

## Risks and Rollback

- Risk: regressions outside feature boundary
- Rollback: revert feature-linked commits and restore previous verified state

## Incremental Outcomes Log

| Date       | Commit  | Decision IDs   | Feature ID | Change Summary                                                                                                                                                                                                                                                                                                                               | Verification                             | Score Delta | Residual Gaps                                                                                         |
| ---------- | ------- | -------------- | ---------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------- | ----------- | ----------------------------------------------------------------------------------------------------- |
| 2026-02-15 | pending | SA-013, SA-014 | F-049      | Normalized iOS safe-area handling in shared shell by applying safe inset as topbar padding (instead of additive sticky offsets), pinned nav to topbar measured height on desktop, and ensured mobile nav sticks to viewport top while utility row scrolls away. Added CSS contract tests for shell-safe-area and sticky behavior invariants. | `lint`, `type-check`, `test`, `verify:*` | 4 -> 6.9    | Manual iOS Safari + standalone PWA notch/home-indicator testing and visual QA capture still required. |

## Next Increment

- [ ] Validate safe-area behavior on physical iPhone devices (Safari + standalone shell)
- [ ] Add video evidence + manual QA checklist results to release notes
