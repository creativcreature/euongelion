# F-029: Devotional UX: Daily home continuity

## Metadata

- Feature ID: F-029
- Category: Devotional UX
- Owner: Engineering + Product
- Status: done
- Slug: devotional-ux-daily-home-continuity

## Scores

- Baseline Score: 4/10
- Engineering Score: 6/10
- Founder Score: 0/10
- Founder 10/10 Rule: only founder can assign 10/10

## User Expectation

- Daily home continuity

## 10/10 Definition

- Behavior is reliable, predictable, and validated on desktop and mobile.
- Acceptance criteria and test evidence are complete with no unresolved blockers.

## Methodology References

- M00
- M04
- M05
- M06

## Device Contracts

### Desktop

- Primary interaction path is discoverable in one clear route.
- Error and recovery states are visible and actionable.

### Mobile

- Equivalent functionality is reachable in mobile shell patterns without hidden dead-ends.
- Touch targets and readability remain usable at 375/390 widths.

## Scope

### In scope

- Feature behavior and UX quality for: Daily home continuity
- Tracking and regression prevention for this feature

### Out of scope

- Unrelated feature changes not mapped to F-029

## Interfaces Touched

- `src/app/wake-up/page.tsx`
- `src/app/wake-up/series/[slug]/SeriesPageClient.tsx`
- `src/app/wake-up/devotional/[slug]/DevotionalPageClient.tsx`
- `src/app/wake-up/devotional/[slug]/loading.tsx`
- `src/app/wake-up/devotional/[slug]/error.tsx`
- `src/app/my-devotional/page.tsx`
- `src/app/globals.css`

## Dependencies

- F-011
- F-012
- F-014

## Acceptance Criteria

- [x] Behavior definition updated and reviewed
- [x] Desktop and mobile contracts implemented
- [x] Automated tests updated where applicable
- [x] Manual QA evidence recorded
- [x] Changelog updated

## Test Matrix

- [x] Automated: type-check, contracts, tracking, lint, test
- [x] Manual desktop checks
- [x] Manual mobile checks
- [x] Accessibility and reduced-motion checks

## Risks and Rollback

- Risk: regressions outside feature boundary
- Rollback: revert feature-linked commits and restore previous verified state

## Incremental Outcomes Log

| Date       | Commit  | Decision IDs           | Feature ID | Change Summary                                                                                                                                                                                                                                                                                                                                                                           | Verification                                        | Score Delta          | Residual Gaps                                                                           |
| ---------- | ------- | ---------------------- | ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------- | -------------------- | --------------------------------------------------------------------------------------- |
| 2026-02-14 | pending | SA-013, SA-014, SA-015 | F-029      | Restyled Wake Up route family (`/wake-up`, `/wake-up/series/[slug]`, `/wake-up/devotional/[slug]`) onto the same home newspaper shell (`mock-home`/`mock-paper`) with blue-ink typography, newsletter borders, explicit 3-column 7-question grid, and consistent devotional/series card framing.                                                                                         | `type-check`, `lint`, `test` (64 pass)              | 4 -> 6 (engineering) | Manual visual QA across breakpoints and dark mode fine-tuning still required.           |
| 2026-02-14 | pending | SA-013, SA-014, SA-015 | F-029      | Restored wake-up 7-question card rendering by sourcing directly from `WAKEUP_SERIES_ORDER`, preserving home-style series-card treatment while preventing missing-card states.                                                                                                                                                                                                            | `type-check`, `lint`                                | 6 -> 6 (engineering) | Manual route visual QA still required.                                                  |
| 2026-02-14 | pending | SA-013, SA-014, SA-015 | F-029      | Formalized devotional spacing rhythm and mobile full-bleed behavior: devotional panels now use consistent spacing tokens, mobile removes left/right panel borders, and devotional pages use full viewport width for reading flow continuity.                                                                                                                                             | `type-check`, `lint`                                | 6 -> 7 (engineering) | Manual QA needed on narrow devices and notch-safe insets.                               |
| 2026-02-14 | pending | SA-013, SA-014, SA-015 | F-029      | Restyled `/my-devotional` into the same `mock-home`/`mock-paper` shell with shared header, breadcrumb row, and bordered panel rhythm so devotional-home continuity matches homepage/devotional structure.                                                                                                                                                                                | `type-check`, `lint`, `test`                        | 7 -> 8 (engineering) | Manual route-level QA still needed on mobile viewport spacing.                          |
| 2026-02-14 | pending | SA-013                 | F-029      | Introduced shared inner-page shell spacing utility and applied it across results/devotional/legal/settings/loading routes to align content rhythm with the homepage shell system.                                                                                                                                                                                                        | `type-check`, `lint`, `test`                        | 8 -> 8.2             | Visual QA still required for per-route optical alignment polish.                        |
| 2026-02-14 | pending | SA-013                 | F-029      | Unified sticky side-rail offsets with a shell-aware utility so results/devotional/library sidebars sit correctly below the shared sticky header stack across routes.                                                                                                                                                                                                                     | `type-check`, `lint`, `test`                        | 8.2 -> 8.4           | Visual QA still required for long-page sidebar behavior on smaller laptops.             |
| 2026-02-15 | pending | SA-013                 | F-029      | Added canonical `/daily-bread` route, updated devotional links away from legacy `/my-devotional`, and separated Wake-Up shell identity using `WAKE UP` masthead tone while preserving shared structural mechanics.                                                                                                                                                                       | `type-check`, `lint`, contracts/tracking gates      | 8.4 -> 8.8           | Wake-Up warm-black polish still needs founder visual pass across all breakpoints.       |
| 2026-02-15 | pending | SA-013                 | F-029      | Converted legacy `/my-devotional` route into a query-preserving redirect to `/daily-bread` so canonical devotional-home routing remains deterministic across old bookmarks and shared links.                                                                                                                                                                                             | `type-check`, `lint`, contracts/tracking gates      | 8.8 -> 8.9           | Founder visual QA and archive UX polish remain pending.                                 |
| 2026-02-15 | pending | SA-013                 | F-029      | Removed duplicate docked-menu behavior in shell header, restored persistent sticky nav stack, increased homepage desktop body-copy scale, aligned hero/CTA vertical rhythm, switched FAQ hover emphasis to answer-only blue reveal, and moved featured series to 3-card carousel groups without icon/image placeholders.                                                                 | `type-check`, `lint`, contracts/tracking gates      | 8.9 -> 9.1           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Updated shell-header tests to enforce the new single-nav invariant and removed stale docked-nav assertions so CI now validates current production navigation behavior.                                                                                                                                                                                                                   | `test`                                              | 9.1 -> 9.2           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Removed residual docked-nav CSS branches, synchronized sticky offset vars on both shell and paper containers, and bumped SW cache version to force stale homepage/header assets to refresh in production clients.                                                                                                                                                                        | `lint`, `type-check`, `test`                        | 9.2 -> 9.3           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Hardened home featured-series behavior with explicit 3-card carousel slides + timed rotation, removed legacy media/icon strip rendering from card layout paths, and formalized shared hero/CTA panel vertical padding tokens for proportion consistency.                                                                                                                                 | `lint`, `type-check`, `test`                        | 9.3 -> 9.4           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Added SW version-migration guard in client registration to unregister stale workers and clear legacy `euangelion-*` caches when version changes, ensuring production clients pick up updated homepage/header assets after deployment.                                                                                                                                                    | `lint`, `type-check`, `test`                        | 9.4 -> 9.5           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Tightened masthead headline top spacing by reducing top padding and applying a subtle upward optical shift to the `EUANGELION` wordmark for closer top-border fit.                                                                                                                                                                                                                       | `lint`, `type-check`                                | 9.5 -> 9.6           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Doubled desktop homepage body-copy scale and pronunciation line size, moved bottom brand below footer, expanded featured-series preview copy, enabled tap-to-reveal FAQ answers on mobile, and increased spacing under the series CTA footnote.                                                                                                                                          | `lint`, `type-check`                                | 9.6 -> 9.7           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Restored default card-media framing outside the homepage so Wake-Up and non-home series cards keep their icon/media layout while homepage featured cards remain text-first.                                                                                                                                                                                                              | `lint`, `type-check`                                | 9.7 -> 9.8           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Cleaned shell navigation and homepage rhythm: moved mobile dark mode into dropdown panel, made only nav sticky on mobile, removed breadcrumbs from main-nav pages, normalized mobile page frame width across core routes, reduced homepage series preview density, and standardized desktop homepage section vertical padding (except series CTA row).                                   | `lint`, `type-check`, `test`                        | 9.8 -> 9.9           | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Shifted devotional previews to scripture-first hierarchy (largest line first), reduced homepage series preview body to ~25-30 words, replaced featured `START WITH` copy with `START SERIES` CTA, made homepage desktop FAQ answer reveal hover-only, slightly reduced homepage desktop body text, and strengthened headline weight/spacing.                                             | `lint`, `type-check`, `test`                        | 9.9 -> 10.0          | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Added dedicated Help/FAQ/onboarding tutorial regression tests to keep Phase 16 behavior contracts stable during continued platform iteration.                                                                                                                                                                                                                                            | `test`                                              | 10.0 -> 10.0         | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Upgraded runtime onboarding support by replacing static Help with searchable FAQ categories, adding replay tutorial entry points (Help + Settings), and wiring a skippable/replayable Daily Bread walkthrough modal for first-run and explicit replay flows.                                                                                                                             | `lint`, `type-check`, `test`                        | 10.0 -> 10.0         | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-15 | pending | SA-013                 | F-029      | Added protected `/admin/*` runtime pages with shared operational shell and proxy-level email allowlist guard (`ADMIN_EMAIL_ALLOWLIST`) to support in-app moderation/publication control surfaces, with environment documentation updated for deployment parity.                                                                                                                          | `lint`, `type-check`, `test`, contracts/tracks      | 10.0 -> 10.0         | Final founder visual calibration still needed for exact typography proportions.         |
| 2026-02-18 | pending | SA-013, SA-014         | F-029      | Normalized `/soul-audit` and `/series` route shells to the same homepage frame (`mock-home` + `mock-paper`) and shared spacing utilities so top utility/nav stacks retain consistent sticky behavior, borders, and viewport rhythm across core main-nav routes.                                                                                                                          | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder visual calibration for exact desktop proportions still required.                |
| 2026-02-18 | pending | SA-013, SA-014         | F-029      | Extended shell normalization to auth entry routes (`/auth/sign-in`, `/auth/sign-up`) so sign-in/up now inherit the same bounded newspaper frame, shared header stack, and spacing rhythm as homepage-level routes.                                                                                                                                                                       | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder visual calibration for exact desktop proportions still required.                |
| 2026-02-18 | pending | SA-013, SA-014         | F-029      | Moved static/legal/help content surfaces onto the shared `mock-home` + `mock-paper` shell framing via `StaticInfoPage` and `HelpHubPageClient` so header/nav/border rhythm remains aligned with homepage structure across non-Wake-Up routes.                                                                                                                                            | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder visual calibration for exact desktop proportions still required.                |
| 2026-02-18 | pending | SA-013, SA-014         | F-029      | Rebased `/soul-audit/results` (including loading/error states) onto the same `mock-home` + `mock-paper` shell contract as `/daily-bread`, preserving one continuous visual system and shared header/nav/frame behavior across core devotional routes.                                                                                                                                    | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder pass still required for final route-by-route optical proportion tuning.         |
| 2026-02-18 | pending | SA-013, SA-014         | F-029      | Completed non-Wake-Up shell parity migration for utility/system surfaces by moving `/settings`, `/privacy`, `/terms`, `/offline`, root `loading/error/404`, and admin shell pages to the shared `mock-home` + `mock-paper` contract with the same masthead/nav/footer structure.                                                                                                         | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder pass still required for final route-by-route optical proportion tuning.         |
| 2026-02-19 | pending | SA-011, SA-012         | F-029      | Fixed false “continue devotional” prompts by making homepage resume state server-authoritative and clearing stale client/session route state when no active current path exists. Updated `/api/soul-audit/current` to resolve the latest valid devotional path by timestamp so newer curated prefab selections can replace older AI-plan routes as the current home continuation target. | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder validation needed for expected continuity semantics between reset/select flows. |
| 2026-02-20 | pending | SA-013, SA-014         | F-029      | Closed remaining route-shell drift by migrating devotional readers to `mock-home` + `mock-paper` framing, restoring footer + bottom masthead parity on `/daily-bread`, `/series`, and `/soul-audit/results`, and aligning active-day/archive links to `?day=` query routing so single-day devotional navigation resolves consistently from library/archives.                             | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Final founder visual pass still required for optical spacing polish on desktop/mobile.  |
| 2026-02-20 | pending | SA-013, SA-014         | F-029      | Added API + rail fixture regression coverage for query-driven day navigation (`?planToken=...&day=N`) so daily-bread/archives continue opening the correct focused day in the single-day reader model without hash-anchor fallback drift.                                                                                                                                                | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder QA still needed for final visual polish and real-device continuity walkthrough. |
| 2026-02-20 | pending | SA-013, SA-014         | F-029      | Fixed curated prefab continuity so prefab selections become a true active devotional path: selection/current route now resolve to first devotional day by series, and daily-bread active-day source resolution now chooses the newest source across curated selection vs generated plan (series-day timeline fallback when curated is newest).                                           | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-011, SA-012         | F-029      | Added current-path validity guards so stale/incomplete candidates do not trigger false “continue devotional” prompts (requires resolvable plan days or valid curated series days), and rotated audit session token during reset to prevent stale-session continuity bleed-through after reset actions.                                                                                   | `lint`, `type-check`, targeted `vitest`, `verify:*` | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-011, SA-012         | F-029      | Added explicit reset-route regression coverage to enforce the reset continuity contract (`clear old session state` + `rotate session token` + `clear current-route cookie`) so stale home continuation prompts cannot silently return after future refactors.                                                                                                                            | `targeted vitest`, `verify:*`                       | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-011, SA-012         | F-029      | Aligned edge-case test fixtures to the reset-session rotation contract and restored full-suite stability (`npm test -- --run`), preventing false failures after continuity hardening landed.                                                                                                                                                                                             | `npm test -- --run`, `verify:*`                     | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-011, SA-012         | F-029      | Added staged-flow E2E assertions proving prefab selections become the active Daily Bread source and reset immediately clears that continuity state (selection persistence + active-days source + reset clear path).                                                                                                                                                                      | `full test suite`, `verify:*`                       | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-013                 | F-029      | Bumped service worker cache generation (`v46`) and registration migration version so stale clients are forced onto the latest shell/assets after deploy, reducing “not seeing updates” drift across homepage/nav routes.                                                                                                                                                                 | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-013                 | F-029      | Refined mobile shell topbar behavior to rotate three editorial items (date/time + slogan + guiding line) with a subtle 1.5s fade transition, preserving one-at-a-time visibility and reducing abrupt header motion on small screens.                                                                                                                                                     | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-013                 | F-029      | Relaxed mobile nav touch handling by replacing `touch-action: pan-y` with `touch-action: auto` on the primary mobile nav shell to reduce gesture lock conflicts and improve natural vertical scrolling through the header/nav region.                                                                                                                                                    | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-20 | pending | SA-013                 | F-029      | Rebuilt mobile nav to a single-row active-link + menu-toggle pattern and consolidated all destinations into one dropdown panel, removing split-menu duplication patterns. Also removed `display: contents` from shell wrappers to stabilize sticky header/nav behavior across routes and browsers.                                                                                       | `lint`, `type-check`, `test`, `verify:*`            | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-19 | pending | SA-013                 | F-029      | Hardened shell navigation interactions by mounting mobile dropdown only when opened, adding outside-click/touch close behavior, excluding nav/topbar controls from editorial ink-line decorators, and tightening sticky z-index/touch contracts so nav remains stable/clickable across routes and devices.                                                                               | `lint`, `type-check`, targeted `vitest` + contracts | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-19 | pending | SA-013                 | F-029      | Repaired sticky/scroll responsiveness by removing JS-derived sticky offset dependency from shell header, switching nav and rail offsets to static shell tokens, softening horizontal snap (`mandatory` -> `proximity`) for rails, and bumping SW version (`v47`) so production clients refresh onto the updated nav contract.                                                            | `lint`, `type-check`, targeted `vitest` + contracts | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-19 | pending | SA-013                 | F-029      | Fixed sticky containment root cause by making the shell header wrapper `display: contents`, so sticky topbar/nav are no longer constrained by header bounds. Added `-webkit-sticky` declarations for Safari/iOS reliability and updated shell readiness tests accordingly.                                                                                                               | `lint`, `type-check`, targeted `vitest` + contracts | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-19 | pending | SA-013                 | F-029      | Implemented desktop docked-topbar behavior requested by founder: restored center slogan (`Daily Devotionals for the Hungry Soul`), kept date/time and mode controls sticky, and docked the main nav into the topbar center on scroll (with standalone desktop nav row hidden while docked). Mobile keeps sticky nav-at-top behavior.                                                     | `lint`, `type-check`, targeted `vitest` + contracts | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-19 | pending | SA-013                 | F-029      | Refined dock trigger to the exact physical-touch interaction: dock state now keys off nav-row top crossing topbar bottom (natural scroll feel), and source nav hiding switched from `display:none` to `visibility/opacity` so dock can reverse cleanly while preserving measurement geometry.                                                                                            | `lint`, `type-check`, targeted `vitest` + contracts | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |
| 2026-02-19 | pending | SA-013                 | F-029      | Replaced docked/undocked JS nav mode switching with one stable shell nav architecture: desktop/mobile presentation is now CSS-controlled from a single mounted navigation tree, route changes always close open shell menus, and service-worker/cache generation was bumped (`v48`) so clients refresh off stale nav bundles after deploy.                                               | `type-check`, targeted `vitest`, SW contract checks | 10.0 -> 10.0         | Founder QA still needed for final continuity semantics and production visual tuning.    |

## Next Increment

- [ ] Complete route-by-route continuity QA (`/`, `/my-devotional`, `/wake-up/*`)
- [ ] Capture mobile screenshots for newspaper shell parity evidence
